contract_repositories:
  - type: git
    repository: https://github.com/znsio/http-ctk-demo.git
    provides:
      - specifications/TMF621/TMF621-Trouble_Ticket-v5.0.0.oas.fixed.yaml

test:
  resiliencyTests:
    enable: all

workflow:
  ids:
    'POST /troubleTicket -> 201':
      extract: 'BODY.id'
    '*':
      use: 'PATH.id'

report:
  formatters:
    - type: text
      layout: table
    - type: html
      title: CTK Results
      heading: CTK Results
  types:
    APICoverage:
      OpenAPI:
        successCriteria:
          minThresholdPercentage: 1
          maxMissedEndpointsInSpec: 0
          enforce: true
        excludedEndpoints:
          - /hub
          - /hub/{id}
          - /listener/troubleTicketAttributeValueChangeEvent
          - /listener/troubleTicketCreateEvent
          - /listener/troubleTicketDeleteEvent
          - /listener/troubleTicketInformationRequiredEvent
          - /listener/troubleTicketResolvedEvent
          - /listener/troubleTicketSpecificationAttributeValueChangeEvent
          - /listener/troubleTicketSpecificationCreateEvent
          - /listener/troubleTicketSpecificationDeleteEvent
          - /listener/troubleTicketSpecificationStatusChangeEvent
          - /listener/troubleTicketStatusChangeEvent
          - /troubleTicketSpecification
          - /troubleTicketSpecification/{id}
